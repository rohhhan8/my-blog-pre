import{P as A,u as P,a as W,b as R,r as f,j as e,L as E,g as J,c as V,d as O}from"./index-0685d0f1.js";import{l as q,g as U}from"./blogService-c5e7d1e2.js";import{f as H}from"./index-b158c261.js";const z=({blog:r})=>{var g,i,l,d,u;const{currentUser:B}=P(),{isLiked:k,toggleLike:_}=W(),b=R(),[p,C]=f.useState(()=>r.is_liked===!0?!0:k(r._id)),[D,v]=f.useState(r.like_count||0),[M]=f.useState(r.views||0),[,j]=f.useState(null),I=r.author_name==="Official Editz"||r.author==="Official Editz"?"Kuldeep":r.author_name||r.author||"Anonymous",[w,x]=f.useState(I);f.useEffect(()=>{if(r.author_name==="Official Editz"||r.author==="Official Editz"){x("Kuldeep"),console.log(`Forcing author name to Kuldeep for "${r.title}"`);return}const o=r.author_name||r.author;if(!o)return;try{const s=localStorage.getItem("currentUserProfile");if(s){const a=JSON.parse(s);if(a.old_name===o&&a.display_name){x(a.display_name),console.log(`Using current user's updated name for "${r.title}": ${a.display_name}`);return}}}catch(s){console.error("Error checking current user profile:",s)}try{const s=localStorage.getItem(`author_${o}`);if(s){const a=JSON.parse(s);a.display_name&&(x(a.display_name),console.log(`Using cached author name for "${r.title}": ${a.display_name}`))}}catch(s){console.error("Error reading cached author data:",s)}(async()=>{try{const s=new Date().getTime(),a=await J(`${o}?_=${s}`);a&&a.display_name&&(j(a),x(a.display_name),console.log(`Updated author name for blog "${r.title}" to: ${a.display_name}`),localStorage.setItem(`author_${o}`,JSON.stringify({display_name:a.display_name,timestamp:new Date().toISOString()})),localStorage.setItem("lastViewedAuthor",JSON.stringify({username:o,display_name:a.display_name,timestamp:new Date().toISOString()})))}catch(s){console.error("Error fetching author profile for blog card:",s)}})()},[r.author_name,r.author,r.title]);const L=r.created_at?H(new Date(r.created_at),{addSuffix:!0}):"Unknown date",F=(o,n=120)=>{if(!o)return"";const s=o.replace(/\n/g," ").replace(/\s+/g," ").trim();if(n>200&&s.length>n){const a=/[.!?]/g,y=[...s.matchAll(a)];let N=-1;for(const $ of y)if($.index<=n)N=$.index;else break;if(N>0)return s.substring(0,N+1)+"..."}return s.length<=n?s:s.substring(0,n)+"..."},S=async o=>{if(o.preventDefault(),o.stopPropagation(),!B){b("/login");return}const n=p;C(!n),v(a=>n?a-1:a+1);const s=o.currentTarget;s.classList.add("scale-125"),setTimeout(()=>{s.classList.remove("scale-125")},200);try{const a=await B.getIdToken(),y=await q(r._id,a),N=y.status==="liked";C(N),v(y.like_count),_(r._id),console.log("Like response:",y)}catch(a){console.error("Error liking post:",a),C(n),v(y=>n?y+1:y-1)}},T=async o=>{o.preventDefault(),o.stopPropagation();try{const n=`${window.location.origin}/blog/${r._id}`;if(console.log("Sharing URL from BlogCard:",n),localStorage.setItem("lastSharedBlogId",r._id),navigator.share)await navigator.share({title:r.title,text:`Check out this blog post: ${r.title}`,url:n}),console.log("Shared successfully using Web Share API");else{await navigator.clipboard.writeText(n),console.log("Copied to clipboard:",n);const s=document.createElement("div");s.className="fixed bottom-4 right-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 px-4 py-2 rounded-md shadow-lg z-50 animate-fade-in",s.innerHTML=`
          <div class="flex flex-col">
            <span>Link copied to clipboard!</span>
            <span class="text-xs mt-1">URL: ${n}</span>
          </div>
        `,document.body.appendChild(s),setTimeout(()=>{s.classList.add("opacity-0","transition-opacity","duration-300"),setTimeout(()=>{document.body.contains(s)&&document.body.removeChild(s)},300)},3e3)}}catch(n){console.error("Error sharing:",n);const s=document.createElement("div");s.className="fixed bottom-4 right-4 bg-red-500 text-white px-4 py-2 rounded-md shadow-lg z-50 animate-fade-in",s.textContent=`Error sharing: ${n.message}`,document.body.appendChild(s),setTimeout(()=>{s.classList.add("opacity-0","transition-opacity","duration-300"),setTimeout(()=>{document.body.contains(s)&&document.body.removeChild(s)},300)},5e3)}},m=()=>{if(!r._id)return"#000000";const o=r._id.split("").reduce((a,y)=>y.charCodeAt(0)+((a<<5)-a),0),n=["#FF0000","#DC2626","#B91C1C","#991B1B","#7F1D1D","#EF4444","#FF8C00","#F97316","#EA580C","#C2410C","#FF4500","#FB923C","#FFFF00","#FACC15","#EAB308","#CA8A04","#A16207","#FEF08A","#00FF00","#22C55E","#16A34A","#15803D","#166534","#4ADE80","#84CC16","#65A30D","#008000","#0000FF","#3B82F6","#2563EB","#1D4ED8","#1E40AF","#60A5FA","#0284C7","#0369A1","#0EA5E9","#800080","#8B5CF6","#7C3AED","#6D28D9","#5B21B6","#A78BFA","#9333EA","#7E22CE","#6B21A8","#FFC0CB","#EC4899","#DB2777","#BE185D","#9D174D","#F472B6","#FF1493","#A52A2A","#92400E","#78350F","#B45309","#D97706","#F59E0B","#008080","#0D9488","#0F766E","#115E59","#14B8A6","#2DD4BF","#06B6D4","#0891B2","#00FFFF","#000000","#18181B","#27272A","#3F3F46","#52525B","#71717A","#1E293B","#334155","#475569","#4B0082","#9400D3","#8A2BE2","#9370DB","#6A0DAD","#FF00FF","#C71585","#FF6347","#FF7F50","#20B2AA","#3CB371","#2E8B57","#228B22","#32CD32","#00FA9A","#00CED1","#5F9EA0","#4682B4","#6495ED","#4169E1","#191970","#8B4513","#A0522D","#CD853F","#DEB887","#8B0000","#800000","#B22222","#DC143C"],s=Math.abs(o)%n.length;return n[s]},h=o=>{const n=parseInt(o.slice(1,3),16),s=parseInt(o.slice(3,5),16),a=parseInt(o.slice(5,7),16);return(.299*n+.587*s+.114*a)/255>.5?"#000000":"#FFFFFF"},c=m(),t=h(c);return e.jsx("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden transition-all duration-300 hover:shadow-lg hover:border-gray-300 hover:transform hover:scale-[1.02] hover:-translate-y-1 h-[24rem] flex flex-col relative",style:{background:c},children:e.jsxs("div",{className:"flex flex-col h-full w-full",children:[e.jsx(E,{to:`/blog/${r._id}`,className:"block",children:r.image_url?e.jsx("div",{className:"h-32 w-full overflow-hidden",children:e.jsx("img",{src:r.image_url,alt:r.title,loading:"lazy",decoding:"async",className:"w-full h-full object-cover transition-transform duration-500 hover:scale-105",onError:o=>{o.target.onerror=null,o.target.style.display="none";const n=document.createElement("div");n.className="h-32 w-full flex items-center justify-center p-4 relative",n.style.backgroundColor=m();const s=document.createElement("div");s.className="absolute inset-0 opacity-10",s.style.backgroundImage=`url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='1' fill-rule='evenodd'%3E%3Ccircle cx='3' cy='3' r='3'/%3E%3Ccircle cx='13' cy='13' r='3'/%3E%3C/g%3E%3C/svg%3E")`,n.appendChild(s);const a=document.createElement("div");a.className="text-white text-xl font-bold text-center z-10 font-playfair",a.textContent=r.title,n.appendChild(a),o.target.parentNode.appendChild(n)}})}):e.jsxs("div",{className:"h-32 w-full flex items-center justify-center p-4 relative",style:{background:m()},children:[e.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='1' fill-rule='evenodd'%3E%3Ccircle cx='3' cy='3' r='3'/%3E%3Ccircle cx='13' cy='13' r='3'/%3E%3C/g%3E%3C/svg%3E")`}}),e.jsx("div",{className:"absolute top-2 left-2 w-8 h-8 rounded-full bg-white opacity-10"}),e.jsx("div",{className:"absolute bottom-2 right-2 w-12 h-12 rounded-full bg-white opacity-10"}),e.jsx("h2",{className:"text-xl font-bold text-center z-10 font-playfair line-clamp-3 px-2",style:{color:t},children:r.title})]})}),e.jsx("div",{className:"px-4 py-3 flex-grow flex flex-col justify-between",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs(E,{to:`/blog/${r._id}`,className:"block flex-grow",children:[r.image_url&&e.jsx("h2",{className:"text-lg font-bold font-playfair mb-2 line-clamp-2",style:{color:t},children:r.title}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(E,{to:`/profile/${encodeURIComponent(w)}`,onClick:o=>{o.stopPropagation(),localStorage.setItem("lastViewedAuthor",JSON.stringify({username:w,display_name:w,timestamp:new Date().toISOString()}))},children:e.jsx("div",{className:"h-7 w-7 rounded-full flex items-center justify-center font-medium border border-white/30 hover:shadow-md transition-shadow",style:{backgroundColor:c,color:t},children:((g=w==null?void 0:w.charAt(0))==null?void 0:g.toUpperCase())||((l=(i=r.author_name)==null?void 0:i.charAt(0))==null?void 0:l.toUpperCase())||((u=(d=r.author)==null?void 0:d.charAt(0))==null?void 0:u.toUpperCase())||"A"})}),e.jsxs("div",{className:"ml-2",children:[e.jsx(E,{to:`/profile/${encodeURIComponent(w)}`,onClick:o=>{o.stopPropagation(),localStorage.setItem("lastViewedAuthor",JSON.stringify({username:w,display_name:w,timestamp:new Date().toISOString()}))},className:"text-sm font-medium hover:underline",style:{color:t},children:w}),e.jsx("div",{className:"flex flex-col",children:e.jsx("p",{className:"text-xs",style:{color:t,opacity:.8},children:L})})]})]}),e.jsx("div",{className:`text-sm overflow-hidden ${r.image_url?"line-clamp-2 mb-2":"line-clamp-4 mb-2"}`,style:{color:t,opacity:.9},children:F(r.content,r.image_url?120:240)}),r.tags&&r.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2",children:r.tags.map((o,n)=>e.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs",style:{backgroundColor:`${t}20`,color:t},children:["#",o]},n))})]}),e.jsx("div",{className:"flex flex-col space-y-2 mt-auto",children:e.jsxs("div",{className:"border-t pt-2 mt-1",style:{borderColor:`${t}30`},children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center px-2 py-1 rounded-full",style:{backgroundColor:`${t}15`},children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:t,style:{opacity:.8},children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),e.jsx("span",{className:"text-sm",style:{color:t},children:M})]}),e.jsxs("div",{className:"flex items-center px-2 py-1 rounded-full transition-all duration-300",style:{backgroundColor:p?`${t}25`:`${t}15`,transform:p?"scale(1.05)":"scale(1)"},children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 transition-all duration-300",fill:p?t:"none",viewBox:"0 0 24 24",stroke:t,style:{opacity:p?1:.8,transform:p?"scale(1.1)":"scale(1)"},children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),e.jsx("span",{className:"text-sm transition-all duration-300",style:{color:t,fontWeight:p?"600":"400"},children:D})]}),e.jsxs("div",{className:"flex items-center px-2 py-1 rounded-full",style:{backgroundColor:`${t}15`},children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:t,style:{opacity:.8},children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{className:"text-sm",style:{color:t},children:[Math.max(1,Math.ceil(r.content.split(" ").length/200))," min"]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:S,className:"p-2 rounded-full transition-all duration-300 border transform hover:scale-110 active:scale-90",style:{backgroundColor:p?`${t}30`:"transparent",borderColor:`${t}40`,color:t},"aria-label":p?"Unlike this post":"Like this post",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 transition-all duration-300",fill:p?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",style:{transform:p?"scale(1.1)":"scale(1)",opacity:p?1:.8},children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),e.jsx("button",{onClick:T,className:"p-2 rounded-full transition-all duration-300 border",style:{backgroundColor:"transparent",borderColor:`${t}40`,color:t},"aria-label":"Share this post",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})})})]}),e.jsxs(E,{to:`/blog/${r._id}`,className:"inline-flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all duration-300 group shadow-sm ml-auto",style:{backgroundColor:c,color:t,border:`1px solid ${t}30`},"aria-label":"Read the full article",children:["Read More",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1 transform transition-transform duration-300 group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]})]})})]})})]})})};z.propTypes={blog:A.shape({_id:A.string,title:A.string.isRequired,content:A.string.isRequired,author:A.string,created_at:A.string}).isRequired};const Q=()=>{const{currentUser:r}=P(),[B,k]=f.useState([]),[_,b]=f.useState([]),[p,C]=f.useState(!0),[D,v]=f.useState(""),[M,j]=f.useState(!1),[I,w]=f.useState(new Date),[x,L]=f.useState(""),F=f.useRef(null),S=async m=>{const h=new Set;m.forEach(i=>{i.author_name?h.add(i.author_name):i.author&&h.add(i.author)}),console.log(`Refreshing profiles for ${h.size} unique authors`);const c=localStorage.getItem("currentUserProfile");let t=null;if(c)try{t=JSON.parse(c),console.log("Found current user profile in localStorage:",t),t.display_name&&h.has(t.old_name)&&(console.log(`Updating author name from "${t.old_name}" to "${t.display_name}"`),localStorage.setItem(`author_${t.old_name}`,JSON.stringify({display_name:t.display_name,timestamp:new Date().toISOString()})))}catch(i){console.error("Error parsing current user profile:",i)}const g={};for(const i of h)try{if(t&&t.old_name===i){g[i]=t.display_name;continue}try{const l=await O.get("/api/blogs/");if(l.data&&Array.isArray(l.data)){const d=l.data.filter(u=>u.author_name&&u.author_name.includes(i)||u.author&&u.author.includes(i));if(d.length>0){const o=d.sort((n,s)=>new Date(s.created_at)-new Date(n.created_at))[0].author_name||i;g[i]=o,localStorage.setItem(`author_${i}`,JSON.stringify({display_name:o,timestamp:new Date().toISOString()})),console.log(`Updated profile for ${i} to ${o} from blogs`)}}}catch(l){console.error(`Error fetching blogs for author ${i}:`,l)}}catch(l){console.error(`Error refreshing profile for ${i}:`,l)}return g};f.useEffect(()=>{const m=async()=>{try{C(!0),j(!1);const c=sessionStorage.getItem("cachedBlogs"),t=sessionStorage.getItem("blogsCacheTimestamp"),i=(t?Date.now()-parseInt(t):1/0)<5*60*1e3;if(c&&i)try{const l=JSON.parse(c);if(Array.isArray(l)&&l.length>0){console.log("Using cached blogs from sessionStorage"),k(l),b(l),v(""),setTimeout(()=>j(!0),50),C(!1),h();return}}catch(l){console.error("Error parsing cached blogs:",l)}try{const l=localStorage.getItem("authToken");l&&V.setAuthToken(l);const d=await U();if(Array.isArray(d)){k(d),b(d),v("");try{sessionStorage.setItem("cachedBlogs",JSON.stringify(d)),sessionStorage.setItem("blogsCacheTimestamp",Date.now().toString())}catch(u){console.error("Error caching blogs:",u)}setTimeout(()=>j(!0),100),S(d).catch(u=>{console.error("Error refreshing author profiles:",u)});return}}catch(l){console.error("Error fetching blogs with API:",l)}try{console.log("Trying direct axios call for blogs");const l=await O.get("/api/blogs/");if(Array.isArray(l.data)){k(l.data),b(l.data),v("");try{sessionStorage.setItem("cachedBlogs",JSON.stringify(l.data)),sessionStorage.setItem("blogsCacheTimestamp",Date.now().toString())}catch(d){console.error("Error caching blogs:",d)}setTimeout(()=>j(!0),100),S(l.data).catch(d=>{console.error("Error refreshing author profiles:",d)});return}}catch(l){console.error("Error fetching blogs with direct axios:",l)}try{console.log("Trying fetch API for blogs");const l=await fetch("/api/blogs/");if(!l.ok)throw new Error(`Fetch failed with status ${l.status}`);const d=await l.json();if(Array.isArray(d)){k(d),b(d),v("");try{sessionStorage.setItem("cachedBlogs",JSON.stringify(d)),sessionStorage.setItem("blogsCacheTimestamp",Date.now().toString())}catch(u){console.error("Error caching blogs:",u)}setTimeout(()=>j(!0),100),S(d).catch(u=>{console.error("Error refreshing author profiles:",u)});return}}catch(l){console.error("Error fetching blogs with fetch API:",l)}throw new Error("All attempts to fetch blogs failed")}catch(c){console.error("Error fetching blogs:",c);try{const t=sessionStorage.getItem("cachedBlogs");if(t){const g=JSON.parse(t);if(Array.isArray(g)&&g.length>0){console.log("Using expired cached blogs as fallback"),k(g),b(g),v("Using cached blogs. Some content may be outdated."),setTimeout(()=>j(!0),50);return}}}catch(t){console.error("Error using expired cached blogs:",t)}v("Failed to load blogs. Please try again later."),k([])}finally{C(!1)}},h=async()=>{try{console.log("Refreshing blogs in background");const c=await U();if(Array.isArray(c)){k(c),b(t=>x.trim()===""?c:c.filter(g=>g.title.toLowerCase().includes(x.toLowerCase())||g.content.toLowerCase().includes(x.toLowerCase())||g.author_name&&g.author_name.toLowerCase().includes(x.toLowerCase())));try{sessionStorage.setItem("cachedBlogs",JSON.stringify(c)),sessionStorage.setItem("blogsCacheTimestamp",Date.now().toString())}catch(t){console.error("Error updating cached blogs:",t)}S(c).catch(t=>{console.error("Error refreshing author profiles:",t)})}}catch(c){console.error("Error refreshing blogs in background:",c)}};m()},[x]),f.useEffect(()=>(F.current=setInterval(()=>{w(new Date)},1e3),()=>{F.current&&clearInterval(F.current)}),[]),f.useEffect(()=>{if(x.trim()==="")b(B);else{const m=B.filter(h=>h.title.toLowerCase().includes(x.toLowerCase())||h.content.toLowerCase().includes(x.toLowerCase())||h.author_name&&h.author_name.toLowerCase().includes(x.toLowerCase()));b(m)}},[x,B]);const T=()=>{const m=document.getElementById("blogs");if(m){const h=document.querySelector("nav")||document.querySelector("header"),c=h?h.offsetHeight:80,g=m.getBoundingClientRect().top+window.pageYOffset-c-20,i=document.querySelector(".scroll-down-arrow-button");i&&(i.style.transform="scale(0.95)",setTimeout(()=>{i.style.transform=""},150));const l=window.pageYOffset,d=g-l,u=1e3;let o=null;const n=a=>a<.5?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1,s=a=>{o===null&&(o=a);const y=a-o,N=Math.min(y/u,1),$=n(N);window.scrollTo(0,l+d*$),y<u&&requestAnimationFrame(s)};window.requestAnimationFrame?requestAnimationFrame(s):window.scrollTo({top:g,behavior:"smooth"})}};return e.jsxs("div",{className:"bg-blog-bg dark:bg-black min-h-screen transition-all duration-500",children:[e.jsxs("div",{className:"relative min-h-screen flex items-center justify-center overflow-hidden pt-20 sm:pt-24 md:pt-28 lg:pt-32 xl:pt-36",children:[e.jsx("div",{className:"absolute inset-0 bg-white dark:bg-black",children:e.jsx("div",{className:"absolute inset-0 opacity-5 dark:opacity-10",style:{backgroundImage:'url("data:image/svg+xml,%3Csvg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="%23000000" fill-opacity="0.8" fill-rule="evenodd"%3E%3Ccircle cx="3" cy="3" r="1"/%3E%3Ccircle cx="13" cy="13" r="1"/%3E%3C/g%3E%3C/svg%3E")',backgroundSize:"20px 20px"}})}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 border border-gray-200 dark:border-gray-700 rounded-full opacity-20 dark:opacity-10 animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 border border-gray-300 dark:border-gray-700 rounded-full opacity-10 dark:opacity-5 animate-pulse animation-delay-2000"}),e.jsx("div",{className:"absolute top-1/2 right-1/3 w-48 h-48 border border-gray-200 dark:border-gray-700 rounded-full opacity-15 dark:opacity-10 animate-pulse animation-delay-1000"})]}),e.jsx("div",{className:"relative z-10 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto w-full",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"text-center py-8 sm:py-12 md:py-16 lg:py-20",children:[e.jsx("div",{className:"mb-4 sm:mb-6 md:mb-8",children:e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 mb-4 sm:mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-black text-gray-900 dark:text-white font-serif tracking-tighter",children:"B"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 sm:w-3 sm:h-3 md:w-4 md:h-4 bg-gray-900 dark:bg-white rounded-full"}),e.jsx("div",{className:"absolute -bottom-1 left-0 w-full h-1 sm:h-1.5 bg-gray-900 dark:bg-white"})]})})}),e.jsxs("h1",{className:"text-2xl xs:text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold text-gray-900 dark:text-white mb-4 sm:mb-6 md:mb-8 tracking-tight leading-tight px-2",children:[e.jsx("span",{className:"block",children:"Ideas That Inspire"}),e.jsx("span",{className:"block mt-1 sm:mt-2",children:e.jsx("span",{className:"gradient-text",children:"Stories That Matter"})})]}),e.jsx("div",{className:"relative mb-4 sm:mb-6 md:mb-8",children:e.jsx("p",{className:"text-sm xs:text-base sm:text-lg md:text-xl lg:text-2xl text-gray-700 dark:text-gray-300 max-w-3xl mx-auto mb-6 sm:mb-8 md:mb-10 animate-fade-in-up animation-delay-300 leading-relaxed font-light px-2 sm:px-4",children:"Discover thought-provoking content from diverse voices. Connect with ideas that challenge and inspire in our curated digital space."})}),e.jsx("div",{className:"max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg mx-auto relative mb-6 sm:mb-8 md:mb-10 animate-fade-in-up animation-delay-400",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search blogs...",value:x,onChange:m=>L(m.target.value),className:"w-full px-4 py-2.5 sm:py-3 pl-10 pr-10 text-sm sm:text-base md:text-lg rounded-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-black text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-gray-900 dark:focus:ring-white shadow-sm transition-all duration-200"}),e.jsx("div",{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5 md:h-6 md:w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),x&&e.jsx("button",{onClick:()=>L(""),className:"absolute right-3 sm:right-4 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-200",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5 md:h-6 md:w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 md:gap-6 justify-center px-2 sm:px-0 mb-6 sm:mb-8 md:mb-10",children:[e.jsxs(E,{to:r?"/create":"/login",className:"bg-gray-900 dark:bg-white text-white dark:text-gray-900 w-full sm:w-auto py-2.5 sm:py-3 md:py-4 px-5 sm:px-6 md:px-8 text-sm sm:text-base md:text-lg rounded-md flex items-center justify-center gap-2 sm:gap-3 transition-all duration-300 hover:shadow-lg hover:transform hover:scale-[1.02] font-medium",children:[r?"Write a Blog":"Start Writing",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]}),e.jsxs("button",{onClick:T,className:"bg-white dark:bg-black text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700 w-full sm:w-auto py-2.5 sm:py-3 md:py-4 px-5 sm:px-6 md:px-8 text-sm sm:text-base md:text-lg rounded-md flex items-center justify-center gap-2 sm:gap-3 transition-all duration-300 hover:shadow-lg hover:transform hover:scale-[1.02] font-medium",children:["Explore Blogs",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})]}),e.jsxs("div",{className:"mt-6 sm:mt-8 md:mt-10 hidden sm:flex flex-row items-center justify-center gap-3 sm:gap-4 animate-fade-in-up animation-delay-600 mb-12 sm:mb-16 md:mb-20",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-white/80 dark:bg-black/80 px-4 py-2 rounded-full shadow-sm border border-gray-200 dark:border-gray-800 text-gray-700 dark:text-gray-300",children:[e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{className:"text-base sm:text-lg font-medium",children:I.toLocaleDateString("en-US",{day:"numeric",month:"short"})})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-white/80 dark:bg-black/80 px-4 py-2 rounded-full shadow-sm border border-gray-200 dark:border-gray-800 text-gray-700 dark:text-gray-300",children:[e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-base sm:text-lg font-mono",children:I.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})})]})]}),e.jsx("div",{className:"flex justify-center mt-12 sm:mt-8 md:mt-12 lg:mt-16 mb-8 sm:mb-12 md:mb-16",children:e.jsx("button",{onClick:T,className:"scroll-down-arrow-button focus:outline-none focus:ring-2 focus:ring-gray-900 dark:focus:ring-white focus:ring-opacity-50 rounded-full transition-all duration-200","aria-label":"Scroll down to view blogs",children:e.jsx("div",{className:"scroll-down-arrow-inner",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 sm:h-6 sm:w-6 md:h-7 md:w-7 lg:h-8 lg:w-8 text-gray-900 dark:text-white transition-all duration-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})})})]})})})]}),e.jsxs("div",{id:"blogs",className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 pt-20 sm:pt-24 md:pt-32 lg:pt-36 pb-12 sm:pb-20 bg-white dark:bg-black",children:[e.jsxs("div",{className:"text-center mb-6 sm:mb-8 md:mb-12 lg:mb-16",children:[e.jsxs("h2",{className:"text-2xl xs:text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 dark:text-white font-playfair mb-3 sm:mb-4 md:mb-6 lg:mb-8 tracking-tight px-2",children:["Latest ",e.jsxs("span",{className:"relative inline-block",children:["Blogs",e.jsx("span",{className:"absolute -bottom-1 sm:-bottom-2 left-0 w-full h-[2px] sm:h-[3px] bg-gray-900 dark:bg-white"})]})]}),e.jsx("p",{className:"text-sm xs:text-base sm:text-lg md:text-xl text-gray-700 dark:text-gray-300 max-w-2xl sm:max-w-3xl mx-auto font-light px-2 sm:px-4 mb-4 sm:mb-6 md:mb-8",children:"Explore insightful perspectives and expert analysis from our community of thought leaders."})]}),p?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-5 md:gap-6 auto-rows-fr",children:[...Array(6)].map((m,h)=>e.jsxs("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden h-[24rem] flex flex-col relative animate-pulse",children:[e.jsx("div",{className:"h-32 w-full bg-gray-300 dark:bg-gray-700"}),e.jsxs("div",{className:"p-4 flex-grow flex flex-col",children:[e.jsx("div",{className:"h-6 bg-gray-300 dark:bg-gray-700 rounded w-3/4 mb-4"}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"h-8 w-8 bg-gray-300 dark:bg-gray-700 rounded-full"}),e.jsxs("div",{className:"ml-2",children:[e.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-700 rounded w-24 mb-1"}),e.jsx("div",{className:"h-3 bg-gray-300 dark:bg-gray-700 rounded w-16"})]})]}),e.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-700 rounded w-full mb-2"}),e.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-700 rounded w-full mb-2"}),e.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-700 rounded w-2/3 mb-4"}),e.jsxs("div",{className:"mt-auto flex justify-between items-center",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("div",{className:"h-8 w-8 bg-gray-300 dark:bg-gray-700 rounded-full"}),e.jsx("div",{className:"h-8 w-8 bg-gray-300 dark:bg-gray-700 rounded-full"})]}),e.jsx("div",{className:"h-8 w-24 bg-gray-300 dark:bg-gray-700 rounded-md"})]})]})]},h))}):D?e.jsx("div",{className:"bg-gray-100 dark:bg-black text-gray-700 dark:text-gray-300 p-8 rounded-md max-w-4xl mx-auto border border-gray-200 dark:border-gray-700 text-lg",children:D}):_.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-5 md:gap-6 auto-rows-fr",children:_.map((m,h)=>!m||!m._id?(console.warn("Blog missing _id:",m),null):e.jsx("div",{className:`transform transition-all duration-700 h-full ${M?"translate-y-0 opacity-100":"translate-y-12 opacity-0"}`,style:{transitionDelay:`${Math.min(h*100,500)}ms`},children:e.jsx(z,{blog:m})},m._id))}):x?e.jsxs("div",{className:"text-center py-20 border border-gray-200 dark:border-gray-700 rounded-lg",children:[e.jsx("svg",{className:"w-20 h-20 mx-auto mb-6 text-gray-400 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("p",{className:"text-3xl font-medium text-gray-900 dark:text-white mb-3",children:"No results found"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8",children:"Try a different search term or browse all blogs."}),e.jsx("button",{onClick:()=>L(""),className:"px-8 py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-md hover:bg-gray-800 dark:hover:bg-gray-100 transition-all transform hover:translate-y-[-5px] shadow-md font-medium tracking-wide inline-block text-lg",children:"Clear Search"})]}):e.jsxs("div",{className:"text-center py-20 border border-gray-200 dark:border-gray-700 rounded-lg",children:[e.jsx("svg",{className:"w-20 h-20 mx-auto mb-6 text-gray-400 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),e.jsx("p",{className:"text-3xl font-medium text-gray-900 dark:text-white mb-3",children:"No blogs found"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8",children:"Be the first to share your thoughts with the world."}),e.jsx(E,{to:"/create",className:"px-8 py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-md hover:bg-gray-800 dark:hover:bg-gray-100 transition-all transform hover:translate-y-[-5px] shadow-md font-medium tracking-wide inline-block text-lg",children:"Create a Blog"})]})]})]})};export{Q as default};
